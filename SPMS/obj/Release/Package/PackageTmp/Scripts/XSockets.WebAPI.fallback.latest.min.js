"WebSocket"in window==!1&&(window.WebSocket=function(){function t(t){this.client={};n=this;$.getJSON("/API/XSocketsWebApi?url="+t).done(function(t){n.onopen(t.data);n.client=JSON.parse(t.data);i(n.client);n.readyState=1;n.onmessage(new n.MessageEvent(t))})}var n,i;return t.prototype.MessageEvent=function(n){return{type:"message",data:JSON.stringify(n)}},t.prototype._bind=function(t){$.get("/API/XSocketsWebApi",{c:n.client.ClientGuid,e:t}).done(function(){})},t.prototype.readystate=0,t.prototype.send=function(t){var i=JSON.parse(t);i.event!=XSockets.Events.open&&(i.event==XSockets.Events.pubSub.unsubscribe?$.get("/API/XSocketsWebApi",{client:n.client.ClientGuid,action:XSockets.Events.pubSub.unsubscribe,data:JSON.parse(i.data).Event}).done(function(){}):i.event==XSockets.Events.pubSub.subscribe?$.get("/API/XSocketsWebApi",{client:n.client.ClientGuid,action:XSockets.Events.pubSub.subscribe,data:JSON.parse(i.data).Event}).done(function(){}):$.post("/API/XSocketsWebApi",{Client:n.client.ClientGuid,Json:JSON.stringify(i)}).done(function(){}))},i=function(t){return $.post("/API/XSocketsWebApi?client="+t.ClientGuid).done(function(t){var r=JSON.parse(t)||[];$.each(r,function(){n.onmessage(new n.MessageEvent(this))});i(n.client)})},t.prototype.onmessage=function(){},t.prototype.onopen=function(){},t}());
/*
//# sourceMappingURL=XSockets.WebAPI.fallback.latest.min.js.map
*/